<div class="container">
	<form [formGroup]="BudgetPersonalCategory.form" (ngSubmit)="onSubmit()">
		<div class="row mt-2">
			<div class="col-12 mb-2">
				<div>
					<span class="fs-5">Update limit for selected category</span>
				</div>
				<div>
					<small class="fw-bold">Category limit:</small>
					<small>{{ budgetPersonalCategory.limit | number: '1.2-2' }}</small>
				</div>
				<div>
					<small class="fw-bold">Remaining allocation:</small>
					<small>{{ BudgetPersonalCategory.remainingBudget | number: '1.2-2' }}</small>
				</div>
				<div *ngIf="budgetPersonalCategory.remainingBudget < 0" class="text-danger">
					Allocation exceeds the budget
				</div>
			</div>
			<div class="row g-3">
				<div class="col-12 mt-1">
					<div class="d-flex align-items-center p-2 border rounded">
						<div class="d-flex align-items-center gap-2" style="min-width: 200px">
							<span
								class="rounded-circle bg-white d-inline-flex align-items-center justify-content-center"
								[style.background-color]="
									budgetPersonalCategory.personalCategory.color
								"
								style="width: 32px; height: 32px"
							>
								<i
									class="bi"
									[class]="
										budgetPersonalCategory.personalCategory.color +
										' bi-' +
										budgetPersonalCategory.personalCategory.icon
									"
								></i>
							</span>
							<span>{{ budgetPersonalCategory.personalCategory.name }}</span>
						</div>
						<div class="flex-grow-1 ms-3">
							<app-input
								[inputType]="InputTypes.Number"
								inputId="limit"
								[hideLabel]="true"
								[formGroup]="BudgetPersonalCategory.form"
								[controlName]="'limit'"
								[label]="'Limit'"
							></app-input>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row mb-3">
			<div
				class="col-12 text-danger"
				*ngFor="let error of BudgetPersonalCategory.serverErrors"
			>
				{{ error }}
			</div>
			<div class="col-12 d-flex justify-content-end">
				<button type="button" (click)="close()" class="btn btn-sm mt-2 btn-secondary me-2">
					Close
				</button>

				<button type="submit" class="btn btn-sm mt-2 btn-dark fw-bold">Save</button>
			</div>
		</div>
	</form>
</div>
